plugins {
    id 'java'
    id 'application'

    // JavaFX
    id "org.openjfx.javafxplugin" version "0.0.13"
}

group 'tech.anapad.stm32experiments'
version '1.0-SNAPSHOT'

sourceCompatibility = 14
targetCompatibility = 14

repositories {
    mavenCentral()
}

dependencies {
    // Logging framework
    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.36'

    // Logging implementation
    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.11'

    // Java USB-Serial library
    implementation group: 'com.fazecast', name: 'jSerialComm', version: '2.9.2'

    // JavaFX UI libraries
    implementation group: 'org.controlsfx', name: 'controlsfx', version: '11.1.1'
}

mainClassName = 'tech.anapad.stm32experiments.TouchscreenVisualizerClient'

applicationDefaultJvmArgs = [
        // This prevents the JavaFX rendering from being pixelated and looking like a rainbow
        '-Dprism.lcdtext=false']
applicationName = 'TouchscreenVisualizerClient'
application {
    // Define the main class for the application.
    mainClass = 'tech.anapad.stm32experiments.TouchscreenVisualizerClient'
    mainModule = 'TouchscreenVisualizerClient'
}

distTar.enabled = false
distZip.enabled = false
build {
    dependsOn installDist // Creates shell scripts to run the already built jars
}

javafx {
    modules = ['javafx.controls', 'javafx.base', 'javafx.graphics']
}
